var O=Object.defineProperty;var q=(n,e,t)=>e in n?O(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var x=(n,e,t)=>(q(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();const v=document.querySelector("#paciente"),d=document.querySelector("#propietario"),m=document.querySelector("#email"),u=document.querySelector("#fecha"),p=document.querySelector("#sintomas"),i=document.querySelector("#formulario-cita"),E=document.querySelector('#formulario-cita input[type="submit"]'),r=document.querySelector("#citas");class y{constructor({texto:e,tipo:t}){x(this,"notificacion",{texto:"",tipo:""});this.notificacion.texto=e,this.notificacion.tipo=t,this.mostrar()}mostrar(){var a;const e=document.createElement("DIV");e.classList.add("text-center","w-full","p-3","text-white","my-5","alert","uppercase","font-bold","text-sm");const t=document.querySelector(".alert");t==null||t.remove(),this.notificacion.tipo==="error"?e.classList.add("bg-red-500"):e.classList.add("bg-green-500"),e.textContent=this.notificacion.texto,(a=i==null?void 0:i.parentElement)==null||a.insertBefore(e,i),setTimeout(()=>{e.remove()},3e3)}}class H{constructor(){x(this,"citas");this.citas=[]}agregar(e){this.citas=[...this.citas,e],this.mostrar()}editar(e){this.citas=this.citas.map(t=>t.id===e.id?e:t),this.mostrar()}eliminar(e){this.citas=this.citas.filter(t=>t.id!==e),this.mostrar()}mostrar(){for(;r!=null&&r.firstChild;)r.removeChild(r.firstChild);if(this.citas.length===0&&r){r.innerHTML='<p class="text-xl mt-5 mb-10 text-center">No Hay Pacientes</p>';return}this.citas.forEach(e=>{const t=document.createElement("div");t.classList.add("mx-5","my-10","bg-white","shadow-md","px-5","py-10","rounded-xl","p-3");const a=document.createElement("p");a.classList.add("font-normal","mb-3","text-gray-700","normal-case"),a.innerHTML=`<span class="font-bold uppercase">Paciente: </span> ${e.paciente}`;const o=document.createElement("p");o.classList.add("font-normal","mb-3","text-gray-700","normal-case"),o.innerHTML=`<span class="font-bold uppercase">Propietario: </span> ${e.propietario}`;const s=document.createElement("p");s.classList.add("font-normal","mb-3","text-gray-700","normal-case"),s.innerHTML=`<span class="font-bold uppercase">E-mail: </span> ${e.email}`;const c=document.createElement("p");c.classList.add("font-normal","mb-3","text-gray-700","normal-case"),c.innerHTML=`<span class="font-bold uppercase">Fecha: </span> ${e.fecha}`;const L=document.createElement("p");L.classList.add("font-normal","mb-3","text-gray-700","normal-case"),L.innerHTML=`<span class="font-bold uppercase">SÃ­ntomas: </span> ${e.sintomas}`;const h=document.createElement("button");h.classList.add("py-2","px-10","bg-indigo-600","hover:bg-indigo-700","text-white","font-bold","uppercase","rounded-lg","flex","items-center","gap-2","btn-editar"),h.innerHTML='Editar <svg fill="none" class="h-5 w-5" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>';const S=structuredClone(e);h.onclick=()=>P(S);const g=document.createElement("button");g.classList.add("py-2","px-10","bg-red-600","hover:bg-red-700","text-white","font-bold","uppercase","rounded-lg","flex","items-center","gap-2"),g.innerHTML='Eliminar <svg fill="none" class="h-5 w-5" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',g.onclick=()=>this.eliminar(e.id);const b=document.createElement("DIV");b.classList.add("flex","justify-between","mt-10"),b.appendChild(h),b.appendChild(g),t.appendChild(a),t.appendChild(o),t.appendChild(s),t.appendChild(c),t.appendChild(L),t.appendChild(b),r==null||r.appendChild(t)})}}let w={value:!1};const l={id:M(),paciente:"",propietario:"",email:"",fecha:"",sintomas:""},C=new H;function f(n){const e=n.target;l[e.name]=e.value}function T(n){if(n.preventDefault(),Object.values(l).some(e=>e.trim()==="")){new y({texto:"Todos los campos son obligatorios",tipo:"error"});return}w.value?(C.editar({...l}),new y({texto:"Guardado Correctamente",tipo:"exito"})):(C.agregar({...l}),new y({texto:"Paciente Registrado",tipo:"exito"})),i==null||i.reset(),j(),E!==null&&(E.value="Registrar Paciente"),w.value=!1}function j(){Object.assign(l,{id:M(),paciente:"",propietario:"",email:"",fecha:"",sintomas:""})}function M(){return Math.random().toString(36).substring(2)+Date.now()}function P(n){Object.assign(l,n),d!==null&&m!==null&&u!==null&&p!==null&&(d.value=n.propietario,m.value=n.email,u.value=n.fecha,p.value=n.sintomas),v.value=n.paciente,w.value=!0,E.value="Guardar Cambios"}v==null||v.addEventListener("change",f);d==null||d.addEventListener("change",f);m==null||m.addEventListener("change",f);u==null||u.addEventListener("change",f);p==null||p.addEventListener("change",f);i==null||i.addEventListener("submit",T);
